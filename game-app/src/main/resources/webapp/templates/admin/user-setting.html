<div class="block-header">
    <h2>
        <i class="zmdi zmdi-puzzle-piece"></i>
        用户
        <i class="zmdi zmdi-chevron-right"></i>
        <i class="zmdi zmdi-chevron-right"></i>
        用户设置
    </h2>
</div>

<div class="card">
    <div class="card-header ch-alt ">
        <h2>修改密码</h2>
    </div>
    <div class="card-body card-padding">
        <form class="form-horizontal" role="form" name="setForm">
            <div class="form-group" ng-class="{'has-warning': (data.currentPwd.length) && (data.currentPwd.length < 6 || data.currentPwd.length >32)}">
                <label for="name" class="col-sm-4 control-label">当前密码</label>
                <div class="col-sm-8">
                    <div class="fg-line">
                        <input type="password" class="form-control input-sm" name="currentPwd" placeholder="当前密码" ng-model="data.currentPwd">
                    </div>
                    <small class="help-block" ng-show="(data.currentPwd.length) && (data.currentPwd.length < 6 || data.currentPwd.length >32)">
                        当前密码不能低于6个字符
                    </small>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-warning': (data.newPwd.length) && (data.newPwd.length < 6 || data.newPwd.length >32) 
                                                                || data.newPwd == data.currentPwd && data.newPwd.length }">
                <label for="name" class="col-sm-4 control-label">新密码</label>
                <div class="col-sm-8">
                    <div class="fg-line">
                        <input type="password" class="form-control input-sm" name="newPwd" placeholder="新密码" ng-model="data.newPwd">
                    </div>
                    <small class="help-block" ng-show=" (data.newPwd.length) && (data.newPwd.length < 6 || data.newPwd.length >32)">
                        新密码不能低于6个字符
                    </small>
                    <small class="help-block" ng-show=" data.newPwd == data.currentPwd && data.newPwd.length">
                        新密码不能和当前密码相同
                    </small>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-warning': data.confirmNewPwd.length && (data.newPwd != data.confirmNewPwd)}">
                <label for="name" class="col-sm-4 control-label">确认新密码</label>
                <div class="col-sm-8">
                    <div class="fg-line">
                        <input type="password" class="form-control input-sm" name="confirmNewPwd" placeholder="确认新密码" ng-model="data.confirmNewPwd">
                    </div>
                    <small class="help-block" ng-show="data.confirmNewPwd.length && (data.newPwd != data.confirmNewPwd)">
                        新密码和确认密码不同
                    </small>
                </div>
            </div>
        </form>
        <div class="btn-demo">
            <button class="btn btn-info" ng-click="ok()" ng-disabled="setForm.$pristine || (setForm.$dirty && setForm.$invalid) || 
               data.currentPwd == data.newPwd || data.newPwd != data.confirmNewPwd">保存</button>
            <button class="btn btn-warning" ng-click="cancel()">取消</button>
        </div>
    </div>
</div>